(this["webpackJsonppoke-practice"]=this["webpackJsonppoke-practice"]||[]).push([[0],{10:function(e,t,a){},14:function(e,t,a){},31:function(e,t,a){e.exports=a.p+"static/media/title.cf6ce1ef.png"},32:function(e,t,a){e.exports=a(48)},41:function(e,t,a){},43:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),s=a(4),i=a(12),m=a(2),l=a(11),u=a(3),p={pokemons:[],isFetching:!0,error:null};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POKEMONS_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!0});case"FETCH_POKEMONS_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!1,pokemons:t.payload.pokemons});case"FETCH_POKEMONS_ERROR":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!1,error:t.payload.error});default:return e}},f=a(17),d={features:[],otherFeatures:[],error:null,isFetching:!0,isOtherFetching:!0};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FEATURE_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!0});case"FETCH_FEATURE_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{features:[].concat(Object(f.a)(e.features),[t.payload.features]),isFetching:!1});case"FETCH_FEATURE_ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:t.payload.error,isFetching:!1});case"FETCH_OTHERFEATURES_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isOtherFetching:!0});case"FETCH_OTHERFEATURES_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{otherFeatures:[].concat(Object(f.a)(e.otherFeatures),[t.payload.otherFeatures]),isOtherFetching:!1});case"FETCH_OTHERFEATURES_ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:t.payload.error,isOtherFetching:!1});default:return e}};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_POKEMON":return t.payload.id;case"RESTART_POKEMON":return 0;default:return e}},k=function(e){return{type:"COMPARE_WITH",payload:{id:e}}},O=[];var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMPARE_WITH":return[].concat(Object(f.a)(e),[t.payload.id]);case"RESTART":return[];default:return e}},g=[];var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOOK_FOR":return t.payload.pokemonResults;default:return e}},F=Object(l.c)({pokemonList:E,pokemonFeatures:h,currentPokemon:v,comparison:b,pokemonResults:N}),j=a(29),T=a.n(j),y=a(30),R=Object(l.d)(F,Object(l.a)(T.a,y.a)),S=(a(10),a(41),Object(s.b)((function(e){return e}),(function(e){return{lookFor:function(t){return e(function(e){return{type:"LOOK_FOR",payload:{pokemonResults:e}}}(t))}}}))((function(e){var t=r.a.useRef(),a=e.lookFor,o=e.pokemonList;Object(n.useEffect)((function(){o.isFetching||a(o.pokemons)}),[o.isFetching,a,o.pokemons]);return r.a.createElement("div",{className:"nav-bar"},r.a.createElement("div",{className:"main-nav"},r.a.createElement(i.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement("div",{className:"brand-name"},"Pok\xe9App")),r.a.createElement(i.b,{to:"/pokemon-list",style:{textDecoration:"none"}},r.a.createElement("div",{className:"nav-item"},"Pokemons"))),r.a.createElement("div",null,r.a.createElement("input",{className:"search-box",type:"search",placeholder:"Search",autoComplete:"on",ref:t,onChange:function(){var e=t.current.value.toLowerCase(),n=o.pokemons.filter((function(t){return t.name.startsWith(e)}));a(n)}})))}))),C=a(5),P=(a(43),Object(s.b)((function(e){return e}),(function(e){return{fetchPokemons:function(t){return e(function(e){return function(t){t({type:"FETCH_POKEMONS_REQUEST"}),fetch("https://pokeapi.co/api/v2/pokemon/?offset=0&limit=".concat(e)).then((function(e){return e.json()})).then((function(e){t({type:"FETCH_POKEMONS_SUCCESS",payload:{pokemons:e.results}})})).catch((function(e){t({type:"FETCH_POKEMONS_ERROR",error:e.toString()})}))}}(t))},fetchFeatures:function(t){return e(function(e){return function(t){t({type:"FETCH_FEATURE_REQUEST"}),fetch(e).then((function(e){return e.json()})).then((function(e){t({type:"FETCH_FEATURE_SUCCESS",payload:{features:e}})})).catch((function(e){t({type:"FETCH_FEATURE_ERROR",error:e.toString()})}))}}(t))},fetchOthers:function(t){return e(function(e){return function(t){t({type:"FETCH_OTHERFEATURES_REQUEST"}),fetch("https://pokeapi.co/api/v2/pokemon-species/"+e).then((function(e){return e.json()})).then((function(e){t({type:"FETCH_OTHERFEATURES_SUCCESS",payload:{otherFeatures:e}})})).catch((function(e){t({type:"FETCH_OTHERFEATURES_ERROR",error:e.toString()})}))}}(t))},updatePokemon:function(t){return e(function(e){return{type:"UPDATE_POKEMON",payload:{id:e}}}(t))},compareTo:function(t){return e(k(t))}}}))((function(e){var t=Object(n.useState)(!1),a=Object(C.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(0),i=Object(C.a)(s,2),m=i[0],l=i[1],u=Object(n.useState)(!1),p=Object(C.a)(u,2),E=p[0],f=p[1],d=Object(n.useState)([]),h=Object(C.a)(d,2),v=h[0],k=h[1],O=e.fetchPokemons,b=e.pokemonFeatures,g=e.compareTo,N=e.updatePokemon,F=e.pokemonList,j=e.comparison,T=e.fetchFeatures,y=e.fetchOthers,R=e.pokemonResults;Object(n.useEffect)((function(){return O(20),window.addEventListener("scroll",P),function(){window.removeEventListener("scroll",P)}}),[O]),Object(n.useEffect)((function(){k(R)}),[R]),Object(n.useEffect)((function(){if(o){var e=F.pokemons.length;O(e+20),c(!1)}}),[O,o,F.pokemons]);var S=Object(n.useCallback)((function(e){var t=b.features.filter((function(t){return parseInt(t.id)===parseInt(e)}))[0];1===j.length?g(t):N(t)}),[g,N,j.length,b.features]);Object(n.useEffect)((function(){b.isFetching||b.isOtherFetching||!E||(S(m),f(!1))}),[b.isFetching,b.isOtherFetching,E,m,S]);var P=function(){Math.ceil(window.innerHeight+document.documentElement.scrollTop)===document.documentElement.offsetHeight&&c(!0)},_=function(e){var t=e.currentTarget.id;l(t),0===b.features.filter((function(e){return parseInt(t)===parseInt(e.id)})).length?(T(F.pokemons[t-1].url),y(t),f(!0)):S(t)};return r.a.createElement("div",{className:"pokemon-list",onScroll:P},v.map((function(e){return r.a.createElement("div",{id:e.url.substring(34,e.url.length-1),className:"pokemon-card",key:e.url,onClick:_},r.a.createElement("div",{className:"pokemon-image-container"},r.a.createElement("img",{className:"pokemon-image",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+e.url.substring(34,e.url.length-1)+".png",alt:e.name})),r.a.createElement("div",{className:"pokemon-name"},e.name.toUpperCase()))})))}))),_=(a(14),a(21)),A=a.n(_),U=Object(s.b)((function(e){return e}))((function(e){var t=Object(n.useRef)();Object(n.useEffect)((function(){var n=0,r=t.current.getContext("2d");2===e.comparison.length?(n=e.comparison.map((function(e){return e.stats})),a(r,n)):0!==e.currentPokemon&&(n=[e.currentPokemon.stats],a(r,n))}),[e.currentPokemon,e.comparison]);var a=function(e,t){1===t.length&&A.a.helpers.each(A.a.instances,(function(e){"chart-mixed"===e.chart.canvas.id&&e.chart.destroy()}));var a=t[0].map((function(e){return e.stat.name})),n=["#167a69","#26b19c"],r=n.length,o=t.map((function(e,t){return{data:e.map((function(e){return e.base_stat})),backgroundColor:n[t%r]}}));new A.a(e,{type:"bar",responsive:!0,data:{datasets:o,labels:a},options:{legend:{display:!1},title:{display:!0,text:"Stats",fontSize:17},scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:25,padding:5},gridLines:{display:!0,drawOnChartArea:!1,color:"rgb(0, 0, 0)",tickMarkLength:3}}],xAxes:[{ticks:{padding:5},gridLines:{display:!0,drawOnChartArea:!1,color:"rgb(0, 0, 0)",offsetGridLines:!1,tickMarkLength:5}}]}}})};return r.a.createElement("div",{className:"modal-chart-mixed"},r.a.createElement("canvas",{id:"chart-mixed",ref:t}))})),H=function(e){return e<=4?"Male":"Female"},w=Object(s.b)((function(e){return e}))((function(e){var t=Object(n.useState)("Male"),a=Object(C.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(" "),i=Object(C.a)(s,2),m=i[0],l=i[1];return Object(n.useEffect)((function(){0!==e.currentPokemon&&(l(e.pokemonFeatures.otherFeatures.filter((function(t){return parseInt(t.id)===parseInt(e.currentPokemon.id)})).map((function(e){return e.flavor_text_entries[1].flavor_text}))),c(e.pokemonFeatures.otherFeatures.filter((function(t){return parseInt(t.id)===parseInt(e.currentPokemon.id)})).map((function(e){return H(e.gender_rate)}))))}),[e.currentPokemon,e.pokemonFeatures]),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"modal-image-container"},r.a.createElement("img",{className:"modal-image",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+e.currentPokemon.id+".png",alt:e.currentPokemon.name})),r.a.createElement("div",{className:"modal-pokemon-details"},r.a.createElement("div",{className:"details-description"},r.a.createElement("p",null,m)),r.a.createElement("div",{className:"details-features"},r.a.createElement("div",{className:"feature"},r.a.createElement("h4",{className:"feature-name"},"Height"),r.a.createElement("p",{className:"feature-value"},e.currentPokemon.height+"m")),r.a.createElement("div",{className:"feature"},r.a.createElement("h4",{className:"feature-name"},"Weight"),r.a.createElement("p",{className:"feature-value"},e.currentPokemon.weight+"kg")),r.a.createElement("div",{className:"feature"},r.a.createElement("h4",{className:"feature-name"},"Gender"),r.a.createElement("p",{className:"feature-value"},o)),r.a.createElement("div",{className:"feature"},r.a.createElement("h4",{className:"feature-name"},"Abilities"),r.a.createElement("ul",{className:"feature-value"},e.currentPokemon.abilities.map((function(e,t){return r.a.createElement("li",{key:t},e.ability.name)})))),r.a.createElement("div",{className:"feature"},r.a.createElement("h4",{className:"feature-name"},"Type"),r.a.createElement("ul",{className:"feature-value"},e.currentPokemon.types.map((function(e,t){return r.a.createElement("li",{key:t},e.type.name)})))))))})),I=Object(s.b)((function(e){return e}),(function(e){return{compareTo:function(t){return e(k(t))},restartComparison:function(){return e({type:"RESTART"})},restartPokemon:function(){return e({type:"RESTART_POKEMON"})}}}))((function(e){var t=Object(n.useState)(!1),a=Object(C.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){0!==e.currentPokemon&&c(!0)}),[e.currentPokemon]);var s=function(){c(!1),e.restartPokemon()};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"backdrop"+(o?" open":""),onClick:s}),r.a.createElement("div",{className:"modal"+(o?" open":"")},0!==e.currentPokemon?r.a.createElement("div",null,r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-header-items"},r.a.createElement("div",{className:"modal-pokemon-name"},e.currentPokemon.name.toUpperCase()),r.a.createElement("button",{id:e.currentPokemon.name+"_"+e.currentPokemon.id,className:"compare-button",onClick:function(t){var a=t.currentTarget.id,n=a.substring(a.indexOf("_")+1);e.compareTo(e.pokemonFeatures.features.filter((function(e){return parseInt(e.id)===parseInt(n)}))[0]),c(!1)}},"Compare to...")),r.a.createElement("div",{className:"out-modal",onClick:s},"x")),r.a.createElement(w,null),r.a.createElement(U,null)):" "))})),M=(a(46),Object(s.b)((function(e){return e}))((function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"comparison-card"+(1===e.comparison.length?" open-comparison":"")},r.a.createElement("h4",{className:"comparison-header"},"Comparing pokemon"),1===e.comparison.length?r.a.createElement("div",{className:"comparison-item",key:e.comparison[0].id},e.comparison[0].name.toUpperCase()):""))}))),x=Object(s.b)((function(e){return e}))((function(e){var t=Object(n.useState)("Male"),a=Object(C.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)("Male"),i=Object(C.a)(s,2),m=i[0],l=i[1];return Object(n.useEffect)((function(){2===e.comparison.length&&(c(e.pokemonFeatures.otherFeatures.filter((function(t){return parseInt(t.id)===parseInt(e.comparison[0].id)})).map((function(e){return H(e.gender_rate)}))),l(e.pokemonFeatures.otherFeatures.filter((function(t){return parseInt(t.id)===parseInt(e.comparison[1].id)})).map((function(e){return H(e.gender_rate)}))))}),[e.comparison,e.pokemonFeatures]),r.a.createElement("div",{className:"comparison-features"},r.a.createElement("div",null,r.a.createElement("div",{className:"comparison-feature-value"},e.comparison[0].height+"m"),r.a.createElement("div",{className:"comparison-feature-value"},e.comparison[0].weight+"kg"),r.a.createElement("div",{className:"comparison-feature-value"},o),r.a.createElement("div",null,e.comparison[0].abilities.map((function(e,t){return r.a.createElement("div",{className:"comparison-feature-value",key:t},e.ability.name)})))),r.a.createElement("div",null,r.a.createElement("div",{className:"comparison-feature-name"},"Height"),r.a.createElement("div",{className:"comparison-feature-name"},"Weight"),r.a.createElement("div",{className:"comparison-feature-name"},"Gender"),r.a.createElement("div",{className:"comparison-feature-name"},"Abilities")),r.a.createElement("div",null,r.a.createElement("div",{className:"comparison-feature-value"},e.comparison[1].height+"m"),r.a.createElement("div",{className:"comparison-feature-value"},e.comparison[1].weight+"kg"),r.a.createElement("div",{className:"comparison-feature-value"},m),r.a.createElement("div",null,e.comparison[1].abilities.map((function(e,t){return r.a.createElement("div",{className:"comparison-feature-value",key:t},e.ability.name)})))))})),K=Object(s.b)((function(e){return e}),(function(e){return{restartComparison:function(){return e({type:"RESTART"})},restartPokemon:function(){return e({type:"RESTART_POKEMON"})}}}))((function(e){var t=Object(n.useState)(!1),a=Object(C.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){2===e.comparison.length&&c(!0)}),[e.comparison]);var s=function(){c(!1),e.restartComparison(),e.restartPokemon()};return r.a.createElement("div",{className:"container"},r.a.createElement(M,null),r.a.createElement("div",{className:"backdrop"+(o?" open":""),onClick:s}),r.a.createElement("div",{className:"modal"+(o?" open":"")}," ",e.comparison.length<2?"":r.a.createElement("div",null,r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-pokemon-name"},e.comparison[0].name.toUpperCase()+" VS "+e.comparison[1].name.toUpperCase()),r.a.createElement("div",{className:"out-modal",onClick:s},"x")),r.a.createElement("div",{className:"modal-comparison-images"},r.a.createElement("div",{className:"comparison-image-container"},r.a.createElement("img",{className:"comparison-image",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+e.comparison[0].id+".png",alt:"pokemon1"})),r.a.createElement("div",{className:"comparison-image-container"},r.a.createElement("img",{className:"comparison-image",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+e.comparison[1].id+".png",alt:"pokemon2"}))),r.a.createElement(x,null),r.a.createElement(U,null))))})),L=(a(47),a(31)),W=a.n(L),Q=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"backdrop-home"},r.a.createElement("div",{className:"container-pokemon-title"},r.a.createElement("img",{className:"pokemon-title-image",src:W.a,alt:""})),r.a.createElement("div",{className:"welcome"}," Welcome to Poketionary! "),r.a.createElement("p",{className:"welcome-description"},"Know everything you need to know about these awesome creatures of the Pokemon World and choose your best competitor"),r.a.createElement(i.b,{to:"/pokemon-list"},r.a.createElement("button",{className:"goto-pokemons"}," LET'S GO"))))};var D=function(){return r.a.createElement(i.a,null,r.a.createElement(s.a,{store:R},r.a.createElement(I,null),r.a.createElement(K,null),r.a.createElement(m.a,{path:"/",exact:!0,component:Q}),r.a.createElement(m.a,{path:"/pokemon-list",component:S}),r.a.createElement(m.a,{path:"/pokemon-list",component:P})))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.bbe5c548.chunk.js.map